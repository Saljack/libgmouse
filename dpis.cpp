
#define DPI_W_CNT  10
#define DPI_H_CNT  10

#define DPI_DEFAULT  0x0000


const unsigned short dpi_opcodes[DPI_H_CNT][DPI_W_CNT] =
                                       {{0xC202,0xC204,0xC208,0xC20C,0x8210,0x8250,0x8290,0xC1CE,0x81D0,0xC1D4},
                                        {0xC402,0xC404,0xC408,0xC40C,0x8410,0x8450,0x8390,0xC2CE,0x82D0,0xC2D4},
                                        {0xC802,0xC804,0xC808,0xC80C,0x8810,0x8750,0x8690,0xC4CE,0x84D0,0xC4D4},
                                        {0xCC02,0xCC04,0xCC08,0xCC0C,0x8C10,0x8A50,0x8890,0xC6CE,0x86D0,0xC6D4},
                                        {0x5002,0x5004,0x5008,0x500C,0x1010,0x8D50,0x8B90,0xC8CE,0x88D0,0xC8D4},
                                        {0x5042,0x5044,0x5047,0x504A,0x504D,0x1050,0x8E90,0xCACE,0x8AD0,0xCAD4},
                                        {0x5082,0x5083,0x5086,0x5088,0x508B,0x508E,0x1090,0xCCCE,0x8CD0,0xCCD4},
                                        {0xCEC1,0xCEC2,0xCEC4,0xCEC6,0xCEC8,0xCECA,0xCECC,0xCECE,0x8ED0,0xCED4},
                                        {0x50C1,0x50C2,0x50C4,0x50C6,0x50C8,0x50CA,0x50CC,0x50CE,0x10D0,0x50D4},
                                        {0xD4C1,0xD4C2,0xD4C4,0xD4C6,0xD4C8,0xD4CA,0xD4CC,0xD4CE,0x94D0,0xD4D4}};

const int dpi_sizes[DPI_H_CNT] = {100,200,400,600,800,1000,1200,1400,1600,2000};


unsigned short get_dpi(int dpi_w, int dpi_h)
{
    unsigned short ret_dpi = DPI_DEFAULT;

    int w_index = -1;
    for (int i=0; i< DPI_W_CNT; i++)
        if (dpi_w == dpi_sizes[i])
        {
            w_index = i;
            break;
        }

    int h_index = -1;
    for (int i=0; i< DPI_H_CNT; i++)
        if (dpi_h == dpi_sizes[i])
        {
            h_index = i;
            break;
        }

    if (h_index >= 0 && h_index <DPI_H_CNT && w_index >=0 && w_index < DPI_W_CNT)
        ret_dpi = dpi_opcodes[h_index][w_index];

    return ret_dpi;
}



